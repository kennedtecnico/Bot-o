<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PIX — Copiar chave</title>
  <style>
    body{font-family:system-ui,Segoe UI,Roboto,Arial;margin:0;display:flex;flex-direction:column;align-items:center;gap:18px;padding:28px;background:#fafafa;color:#111}
    .card{max-width:420px;width:100%;background:#fff;border-radius:12px;padding:20px;box-shadow:0 6px 18px rgba(0,0,0,.06);text-align:center}
    img.qr{max-width:260px;width:80%;height:auto;margin:0 auto 8px;display:block}
    .key{word-break:break-all;background:#f7f7f7;padding:10px;border-radius:8px;font-weight:600}
    button.copy{margin-top:12px;padding:12px 18px;border-radius:10px;border:0;font-size:16px;cursor:pointer}
    .ok{margin-top:10px;color:green;display:none}
  </style>
</head>
<body>
  <div class="card">
    <!-- Troque abaixo pela URL da imagem do seu QR (ou deixe uma gerada por API) -->
    <img class="qr" id="qrImg" src="URL_DA_IMAGEM_DO_QR" alt="QR Code PIX">
    <div style="font-size:14px;margin-bottom:6px">Chave PIX</div>
    <div id="pixKey" class="key">kennedkekegetner@gmail.com</div>
    <button id="btnCopy" class="copy">Copiar chave PIX</button>
    <div id="msgOk" class="ok">Chave copiada ✅</div>
    <p style="font-size:13px;color:#666;margin-top:14px">Se estiver no mesmo celular que quer pagar, use o QR acima. Se estiver em outro aparelho, toque em “Copiar” e cole no app do banco.</p>
  </div>

  <script>
    const key = document.getElementById('pixKey').innerText.trim();
    const btn = document.getElementById('btnCopy');
    const msg = document.getElementById('msgOk');

    async function fallbackCopyTextToClipboard(text) {
      const textarea = document.createElement("textarea");
      textarea.value = text;
      textarea.style.position = "fixed";
      textarea.style.left = "-9999px";
      document.body.appendChild(textarea);
      textarea.select();
      try {
        document.execCommand('copy');
        document.body.removeChild(textarea);
        return true;
      } catch (err) {
        document.body.removeChild(textarea);
        return false;
      }
    }

    async function copyText(text) {
      if (navigator.clipboard && navigator.clipboard.writeText) {
        try {
          await navigator.clipboard.writeText(text);
          return true;
        } catch (e) {
          return await fallbackCopyTextToClipboard(text);
        }
      } else {
        return await fallbackCopyTextToClipboard(text);
      }
    }

    btn.addEventListener('click', async () => {
      const ok = await copyText(key);
      if (ok) {
        msg.style.display = 'block';
        setTimeout(()=> msg.style.display = 'none', 2200);
      } else {
        alert('Não foi possível copiar automaticamente. Selecione a chave e copie manualmente.');
      }
    });
  </script>
</body>
</html>
